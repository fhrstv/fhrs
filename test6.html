addEventListener('fetch', event => {
  event.respondWith(handleRequest(event.request))
})

async function handleRequest(request) {
  const referer = request.headers.get('Referer')
  const allowedReferer = 'https://fhrs.site/Series' // استبدل بهذا رابط الصفحة المحددة

  // تحقق من أن الطلب يأتي من الصفحة المحددة
  if (referer !== allowedReferer) {
    return new Response('Access Denied', { status: 403 })
  }

  // رابط ملف JavaScript الذي قمت برفعه
  const url = 'https://fhrs.site/Series.js' // استبدل بهذا الرابط الصحيح للملف

  try {
    const response = await fetch(url)
    return new Response(response.body, response)
  } catch (error) {
    return new Response('Error fetching file', { status: 500 })
  }
}