<div id="player" class="webtor"></div>

<script>
  window.webtor = window.webtor || [];
  window.webtor.push({
    id: 'player',
    magnet: 'magnet:?xt=urn:btih:ea357862db8132a971c27bef13bf7b8f2310dc58&dn=Sintel&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.fastcast.nz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com&ws=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2F',
    poster: 'https://via.placeholder.com/150/0000FF/808080',
    subtitles: [
      {
        srclang: 'en',
        label: 'test',
        src: 'https://raw.githubusercontent.com/andreyvit/subtitle-tools/master/sample.srt',
        default: true,
      }
    ],
    lang: 'en',
    // Add a custom control to the player
    controls: [
      {
        name: 'download',
        label: 'Download',
        onClick: function(player) {
          // Get the torrent info from the webtor player
          const torrent = player.torrent;

          // Create a link to download the torrent file
          const link = document.createElement('a');
          link.href = URL.createObjectURL(new Blob([torrent.toBuffer()], { type: 'application/x-bittorrent' }));
          link.download = torrent.name + '.torrent';
          link.click();
        }
      }
    ]
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/@webtor/embed-sdk-js/dist/index.min.js" charset="utf-8" async></script>