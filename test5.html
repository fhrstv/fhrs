<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بحث في IMDb</title>
</head>
<body>
    <h1>بحث في IMDb</h1>
    <input type="text" id="searchInput" placeholder="أدخل معرف الفيلم">
    <button onclick="searchMovie()">بحث</button>
    <div id="results"></div>

    <script> 
// الصق هنا مصفوفة المعرفات التي تم إنشاؤها
const imdbIDs = [
    'tt0111161',
    'tt0068646',
    'tt0071562',
    // أضف المزيد من المعرفات هنا
];

const tmdbAPIKey = 'cf64a661774f647b7513facb9f1e55e5'; // ضع مفتاح API الخاص بك هنا

async function searchMovie() {
    const query = document.getElementById('searchInput').value;
    const resultsDiv = document.getElementById('results');
    
    // تنظيف النتائج السابقة
    resultsDiv.innerHTML = '';
    
    // العثور على جميع المعرفات التي تحتوي على النص المدخل
    const matchingIDs = imdbIDs.filter(id => id.includes(query));

    if (matchingIDs.length > 0) {
        for (const id of matchingIDs) {
            try {
                const response = await fetch(`https://api.themoviedb.org/3/find/${id}?api_key=${tmdbAPIKey}&external_source=imdb_id`);
                const data = await response.json();
                
                if (data.movie_results && data.movie_results.length > 0) {
                    const movie = data.movie_results[0];
                    const resultElement = document.createElement('div');
                    resultElement.textContent = `Title: ${movie.title}, IMDb ID: ${id}`;
                    resultsDiv.appendChild(resultElement);
                }
            } catch (error) {
                console.error('Error fetching movie data:', error);
            }
        }
    } else {
        resultsDiv.textContent = 'لم يتم العثور على نتائج.';
    }
}
    </script>
</body>
</html>